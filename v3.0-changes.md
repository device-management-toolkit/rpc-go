# üö® Breaking Change Release ‚Äî v3.0.0

## üöÄ New Feature

The most significant feature in this release is the underlying mechanisms inside the toolkit for how AMT is activated. In previous versions, the primary means of activation utilized RPC-GO (and even before, with C-based RPC) acted as a proxy between the Remote Provisioning Server (RPS) and Intel¬Æ AMT. The configuration and orchestration of WSMAN messages to the AMT devices was determined by RPS, and RPC-GO simply relayed them down to AMT over a secure websocket connection. This flow will still be supported for v3.0.0. However, v3.0.0 now supports calling the encrypted export profile endpoint (ex. https://<RPS or Console Host>/api/v1/admin/profiles/export/<profile-name>?domainName=<domain-profile-name>) and authenticating with either username/password or auth-token. Having RPC-GO orchestrate the commands from the exported profile yields a much faster time-to-activation compared to the legacy flow. While we feel strongly this is the best way forward, we still have a bit more work to do to make this easier. Providing the endpoints, having an auth-token and specifying the auth-endpoint is a bit more configuration yielding a less-then-ideal Developer Experience but we will be addressing this over the next few releases. This is primarily why we are keeping v3.0.0 in beta until we feel confident this is better AND easier to use, along with incorporating your feedback. For those that wish to remain using v2.x that is OK as well as will continue to support at least until we move to a GA release of v3. We hope you like the changes as much as we do! Stay tuned! 

## üîë Breaking Changes

### 1. Explicit flag syntax

* **Long-form flags** must now use `--` (e.g., `--profile`).
* **Short-form flags** must now use `-` (e.g., `-p`).

---

### 2. `config` now means ‚Äúapplication configuration‚Äù

* `config` now refers to the **application configuration**. This means things like logging, endpoints, output formatting etc... Coincidently, config corresponds 1:1 to cli flags/commands. Anything passed as CLI flag can be put in `config.yaml` for configuration. This can be helpful for one-off commands. Do keep in mind any value here is automatically picked up (even without specifying --config flag). You may choose remove it entirely to avoid any conflicts or fill it out completely and run a command like `rpc configure wireless` to have everything picked from config. 
* `configv2` has been **removed**.

---

### 3. Old `config` ‚Üí now called `profile`

* The concept of `config` used for provisioning (previously passed as `configv2`) is now called a **profile**.
* Use the `--profile` flag to provide this, aligning with the rest of the device-management-toolkit reference in the UI and APIs.

---

## üöÄ Migration Examples

### Example: Switching from `configv2` to `--profile`

**Before (v2.x):**

```bash
rpc-go configure --configv2 path/to/profile.yaml
```

**After (v3.0):**

```bash
rpc-go configure --profile path/to/profile.yaml
# or, where supported:
rpc-go configure -p path/to/profile.yaml
```

